<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Go Tours Hawaii Chat</title>
    <style>
        body {
          background-color: #f9f9f9;
        }
        #flat-chat {
          width: 100vw;
          height: 100vh;
          position: absolute;
          top: 0;
          left: 0;
        }
        #confetti-canvas {
          position: fixed;
          z-index: 999;
          top: 0;
          left: 0;
          width: 100vw;
          height: 100vh;
          pointer-events: none;
        }
      </style>
   </head>
 <body>
 <canvas id="confetti-canvas"></canvas>
 <div id="flat-chat"></div>
 <div id="voiceflow-chat-frame"></div>
 <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
 <script type="module">
   import { VideoExtension,
             TimerExtension,
             FormExtension,
             MapExtension,
             FileUploadExtension,
             KBUploadExtension,
             DateExtension,
             ConfettiExtension,
             AuthenticationFormExtension,
             GTH_FormExtension,
             GTH_FeedbackExtension,
             WaitingAnimationExtension,
             GiftCardDisplayExtension,
             DoneAnimationExtension,
             InvisibleTimerExtension,
             DisableInputExtension,
             FeedbackExtension } from '/extensions.js';
 
   (function (d, t) {
     var v = d.createElement(t),
       s = d.getElementsByTagName(t)[0];
     v.onload = function () {
       window.voiceflow.chat.load({
         verify: { projectID: '66ed54695ee859bfb84fe587' },
         url: 'http://localhost:3000', // Changed to your analytics proxy URL
         versionID: 'production',
         user: {
           name: 'Demo User',
         },
         render: {
             mode: 'overlay',
         },
         autostart: false,
         allowDangerousHTML: true,
         assistant: {
           extensions: [
             VideoExtension,
             TimerExtension,
             FormExtension,
             MapExtension,
             FileUploadExtension,
             KBUploadExtension,
             DateExtension,
             ConfettiExtension,
             AuthenticationFormExtension,
             GTH_FormExtension,
             FeedbackExtension,
             GTH_FeedbackExtension,
             WaitingAnimationExtension,
             GiftCardDisplayExtension,
             DoneAnimationExtension,
             InvisibleTimerExtension,
             DisableInputExtension
           ],
           stylesheet: "https://yannicksegaar.github.io/VF-extensions/chat-widget-custom.css", // link to your hosted stylesheet
         },
       }).then(() => {
         window.voiceflow.chat.proactive.clear(); // clear all previous messages
 
         // Delay the first proactive message
         setTimeout(function() {
           window.voiceflow.chat.proactive.push(
             { type: 'text', payload: { message: "Aloha! ðŸŒº" } }
           );
         }, 2000); // milliseconds delay for the first message adjust as needed
 
         // Delay the second proactive message
         setTimeout(function() {
           window.voiceflow.chat.proactive.push(
             { type: 'text', payload: { message: "Looking for the perfect tour? ðŸ˜Š" } }
           );
         }, 4500); // Additional milliseconds delay for the second message adjust as needed
 
         // Delay opening the chat window to ensure the proactive messages are loaded
         setTimeout(function() {
           window.voiceflow.chat.open();
         }, 6500); // Adjust this delay if needed to open the chat after messages
       });
     };
     v.src = 'https://yannicksegaar.github.io/VF-extensions/RomAIx_bundle_MainMenuButton.mjs';
     v.type = 'text/javascript';
     s.parentNode.insertBefore(v, s);
   })(document, 'script');
 </script>
</body>
</html>
